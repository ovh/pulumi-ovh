// *** WARNING: this file was generated by pulumi-java-gen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.ovhcloud.pulumi.ovh.CloudProject;

import com.ovhcloud.pulumi.ovh.CloudProject.KubeOidcArgs;
import com.ovhcloud.pulumi.ovh.CloudProject.inputs.KubeOidcState;
import com.ovhcloud.pulumi.ovh.Utilities;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import java.lang.String;
import java.util.List;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * Creates an OIDC configuration in an OVHcloud Managed Kubernetes cluster.
 * 
 * ## Example Usage
 * 
 * &lt;!--Start PulumiCodeChooser --&gt;
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.ovhcloud.pulumi.ovh.CloudProject.KubeOidc;
 * import com.ovhcloud.pulumi.ovh.CloudProject.KubeOidcArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         var myOidc = new KubeOidc("myOidc", KubeOidcArgs.builder()
 *             .serviceName(var_.projectid())
 *             .kubeId(ovh_cloud_project_kube.mykube().id())
 *             .clientId("xxx")
 *             .issuerUrl("https://ovh.com")
 *             .oidcUsernameClaim("an-email")
 *             .oidcUsernamePrefix("ovh:")
 *             .oidcGroupsClaims("groups")
 *             .oidcGroupsPrefix("ovh:")
 *             .oidcRequiredClaims("claim1=val1")
 *             .oidcSigningAlgs("RS512")
 *             .oidcCaContent("LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZhekNDQTFPZ0F3SUJBZ0lVYm9YRkZrL1hCQmdQUUI4UHlqbkttUGVWekNjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1JURUxNQWtHQTFVRUJoTUNRVlV4RXpBUkJnTlZCQWdNQ2xOdmJXVXRVM1JoZEdVeElUQWZCZ05WQkFvTQpHRWx1ZEdWeWJtVjBJRmRwWkdkcGRITWdVSFI1SUV4MFpEQWVGdzB5TWpFd01UUXdOalE0TlROYUZ3MHlNekV3Ck1UUXdOalE0TlROYU1FVXhDekFKQmdOVkJBWVRBa0ZWTVJNd0VRWURWUVFJREFwVGIyMWxMVk4wWVhSbE1TRXcKSHdZRFZRUUtEQmhKYm5SbGNtNWxkQ0JYYVdSbmFYUnpJRkIwZVNCTWRHUXdnZ0lpTUEwR0NTcUdTSWIzRFFFQgpBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRQytPMk53bGx2QTQyT05SUHMyZWlqTUp2UHhpN21RblVSS3FrOHJEV1VkCkwzZU0yM1JXeVhtS1AydDQ5Zi9LVGsweEZNVStOSTUzTEhwWmh6N3NpK3dEUFUvWWZWSS9rQmZsRm8zeVZCMSsKZWdCSnpyNGIrQ3FoaWlCUkh0Vm5LblFKUmdvOVJjVkxhRm82UEY0N1V0UWJ2bWVuNGdERnExVkYwVHhUdnFMdwpIMzRZL0U2QUJsSlZnWFBzaWQzNm54eTErNnlKV05vRXNVekFiekpWMHhzTGhxc2hOazA0TWx4YnBhcG1XcEUxCmFFMHRIZGpjUlI3Y1dTRUUwMnRSQzNYL2tSNjBKb3MxR0N0Y0ZQTTVIN3NjOFBXNFRUem1EWWhOeDRiVjV4T28KU0xYRnI5ajBzZEgxbm1wSlI1dWxJT2dPTWV3MHA2d3JOYVV2MGpxc1hzdVdqMVpxdTRLRi81aEQ3azVhRlhKNQpjYWNTUi9mRWxreW1uZis0eHZFOG8wdkRWNFR5NHo3K3lSS1U0clZvZFNBZWZIN3lqeitLV1RRck96L0lHU2NwCmV1YTdqV0hRMDdMYWxyTjV2b0tFaU1JM3MrWjhzeUdVUGVyYXQwdzJMWlc3NnhxVGl4R002clZxUldxVlQ4L1oKQTJMMEc4WGRvNTZvV2lFYVF5RkJtRDFnMXU2UEsvTmFGVDI1L2tTNWJ1dnF5L1dLVGt0UVNhNHNZc1ZLbUlQTQp0Zys0NUZ2aFErNkRuQzd0TmVnaTZDTkdTb0w0R1dPOEE5UDZRNjE5RkJJZ1VjcGpFMTgvUHpQOEJmcTAxajhnCjZmdm1jNkVPMkxHVHhDcW1DbVp0TnI3OCtQaUxkMHZIY3pqY3E3NzhiNW5WRXRpUVNRQkUyb0ozTVlIZUFIUUkKYVFJREFRQUJvMU13VVRBZEJnTlZIUTRFRmdRVUpaMUhlVmx1U3pjY0U2NEZQYWtuNkRBWnhmSXdId1lEVlIwagpCQmd3Rm9BVUpaMUhlVmx1U3pjY0U2NEZQYWtuNkRBWnhmSXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU5CZ2txCmhraUc5dzBCQVFzRkFBT0NBZ0VBQlhNSlU2MjJZVFZVNnZ1K2svNnkwMGNaWlRmVnZtdVJMOXhTcWxVM0I1QmQKVWdyVWx1TmdjN2dhUUlrYzkvWmh2MnhNd0xxUldMWEhiTWx1NkNvdkNiVTVpeWt0NHVWMnl5UzlZYWhmVVRNVQo3TVE0WFRta2hoS0dGbWZBQ2QzTUVwRE55T3hmWXh0UVBwM1NZT2IxRGFKMmUwY01Gc081bytORGQ5aFVBVzFoCjFLMjMwQnZzYldYYVo4MStIdTU4U1BsYTM5R3FMTG85MzR6dEs4WkRWNFRGTVJxMnNVQ1cxcWFidDh5ejd2RzAKSGV3dXdxelRwR1lTSFI1U0ZvMm45R0xKVUN4SnhxcDlOWVJjMlhUdXRUdkJESzVPMXFZZEJaQzd6cmcxSnczawp2SjI4UGx2TzBQRE42ZVlUdElJdC9yU05ZbW56eVVNRTRYREt0di9KRitLZWZNSWxDTkpzZDRHYXVTdlo5M1NOClhINmcrNEZvRkp4UzNxRmZ0WEc4czNRNnppNzNLRzh5UHZVNHU0WmZNRGd2aG92L0V5YkNLWUpFdVVZSlJWNGEKbmc3cWh3NDBabXQ0eWNCRzU5a2tFSGhNYWtxTWpPaUNkV2x4MEVjZXIxcEFGT1pqN3o1NktURXIxa0ZwUHVaRApjVER5SnNwTjh6dm9CQ0l1ancvQjR6S3kyWStOQitRR1p3dXhyTk9mRGR6ek9yQUE1Ym9OS2gwUUh4c0RxNTExClFaU3hCR21EcGJzN2QzMUQvQll3WEhIUWdwb3FoVUU5dFBGSThpN0pkM2FyeXZCdHlnTWlxSmt1VlRFVk1Ta0UKNTZ0VnFsMjlXenFhRXNrbDN3VUlmczVKKzN3RzRPcWNxRDdXaGQxWUtnc0VUMjdFTWlqVXZIYzQ4TXE0bU1rPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==")
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * &lt;!--End PulumiCodeChooser --&gt;
 * 
 * ## Import
 * 
 * OVHcloud Managed Kubernetes Service cluster OIDC can be imported using the tenant `service_name` and cluster id `kube_id` separated by &#34;/&#34; E.g.,
 * 
 * bash
 * 
 * ```sh
 * $ pulumi import ovh:CloudProject/kubeOidc:KubeOidc my-oidc service_name/kube_id
 * ```
 * 
 */
@ResourceType(type="ovh:CloudProject/kubeOidc:KubeOidc")
public class KubeOidc extends com.pulumi.resources.CustomResource {
    /**
     * The OIDC client ID.
     * 
     */
    @Export(name="clientId", refs={String.class}, tree="[0]")
    private Output<String> clientId;

    /**
     * @return The OIDC client ID.
     * 
     */
    public Output<String> clientId() {
        return this.clientId;
    }
    /**
     * The OIDC issuer url.
     * 
     */
    @Export(name="issuerUrl", refs={String.class}, tree="[0]")
    private Output<String> issuerUrl;

    /**
     * @return The OIDC issuer url.
     * 
     */
    public Output<String> issuerUrl() {
        return this.issuerUrl;
    }
    /**
     * The ID of the managed kubernetes cluster. **Changing this value recreates the resource.**
     * 
     */
    @Export(name="kubeId", refs={String.class}, tree="[0]")
    private Output<String> kubeId;

    /**
     * @return The ID of the managed kubernetes cluster. **Changing this value recreates the resource.**
     * 
     */
    public Output<String> kubeId() {
        return this.kubeId;
    }
    /**
     * Content of the certificate for the CA, in Base64 format, that signed your identity provider&#39;s web certificate. Defaults to the host&#39;s root CAs.
     * 
     */
    @Export(name="oidcCaContent", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> oidcCaContent;

    /**
     * @return Content of the certificate for the CA, in Base64 format, that signed your identity provider&#39;s web certificate. Defaults to the host&#39;s root CAs.
     * 
     */
    public Output<Optional<String>> oidcCaContent() {
        return Codegen.optional(this.oidcCaContent);
    }
    /**
     * Array of JWT claim to use as the user&#39;s group. If the claim is present it must be an array of strings.
     * 
     */
    @Export(name="oidcGroupsClaims", refs={List.class,String.class}, tree="[0,1]")
    private Output</* @Nullable */ List<String>> oidcGroupsClaims;

    /**
     * @return Array of JWT claim to use as the user&#39;s group. If the claim is present it must be an array of strings.
     * 
     */
    public Output<Optional<List<String>>> oidcGroupsClaims() {
        return Codegen.optional(this.oidcGroupsClaims);
    }
    /**
     * Prefix prepended to group claims to prevent clashes with existing names (such as `system:groups`). For example, the value `oidc:` will create group names like `oidc:engineering` and `oidc:infra`.
     * 
     */
    @Export(name="oidcGroupsPrefix", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> oidcGroupsPrefix;

    /**
     * @return Prefix prepended to group claims to prevent clashes with existing names (such as `system:groups`). For example, the value `oidc:` will create group names like `oidc:engineering` and `oidc:infra`.
     * 
     */
    public Output<Optional<String>> oidcGroupsPrefix() {
        return Codegen.optional(this.oidcGroupsPrefix);
    }
    /**
     * Array of `key=value` pairs that describe required claims in the ID Token. If set, the claims are verified to be present in the ID Token with a matching value.&#34;
     * 
     */
    @Export(name="oidcRequiredClaims", refs={List.class,String.class}, tree="[0,1]")
    private Output</* @Nullable */ List<String>> oidcRequiredClaims;

    /**
     * @return Array of `key=value` pairs that describe required claims in the ID Token. If set, the claims are verified to be present in the ID Token with a matching value.&#34;
     * 
     */
    public Output<Optional<List<String>>> oidcRequiredClaims() {
        return Codegen.optional(this.oidcRequiredClaims);
    }
    /**
     * Array of signing algorithms accepted. Default is `RS256`.
     * 
     */
    @Export(name="oidcSigningAlgs", refs={List.class,String.class}, tree="[0,1]")
    private Output</* @Nullable */ List<String>> oidcSigningAlgs;

    /**
     * @return Array of signing algorithms accepted. Default is `RS256`.
     * 
     */
    public Output<Optional<List<String>>> oidcSigningAlgs() {
        return Codegen.optional(this.oidcSigningAlgs);
    }
    /**
     * JWT claim to use as the username. By default, sub, which is expected to be a unique identifier of the end user. Admins can choose other claims, such as email or name, depending on their provider. However, claims other than email will be prefixed with the issuer URL to prevent naming clashes with other plugins.
     * 
     */
    @Export(name="oidcUsernameClaim", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> oidcUsernameClaim;

    /**
     * @return JWT claim to use as the username. By default, sub, which is expected to be a unique identifier of the end user. Admins can choose other claims, such as email or name, depending on their provider. However, claims other than email will be prefixed with the issuer URL to prevent naming clashes with other plugins.
     * 
     */
    public Output<Optional<String>> oidcUsernameClaim() {
        return Codegen.optional(this.oidcUsernameClaim);
    }
    /**
     * Prefix prepended to username claims to prevent clashes with existing names (such as `system:users`). For example, the value `oidc:` will create usernames like `oidc:jane.doe`. If this field isn&#39;t set and `oidc_username_claim` is a value other than email the prefix defaults to `issuer_url` where `issuer_url` is the value of `issuer_url.` The value - can be used to disable all prefixing.
     * 
     */
    @Export(name="oidcUsernamePrefix", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> oidcUsernamePrefix;

    /**
     * @return Prefix prepended to username claims to prevent clashes with existing names (such as `system:users`). For example, the value `oidc:` will create usernames like `oidc:jane.doe`. If this field isn&#39;t set and `oidc_username_claim` is a value other than email the prefix defaults to `issuer_url` where `issuer_url` is the value of `issuer_url.` The value - can be used to disable all prefixing.
     * 
     */
    public Output<Optional<String>> oidcUsernamePrefix() {
        return Codegen.optional(this.oidcUsernamePrefix);
    }
    /**
     * The ID of the public cloud project. If omitted, the `OVH_CLOUD_PROJECT_SERVICE` environment variable is used. **Changing this value recreates the resource.**
     * 
     */
    @Export(name="serviceName", refs={String.class}, tree="[0]")
    private Output<String> serviceName;

    /**
     * @return The ID of the public cloud project. If omitted, the `OVH_CLOUD_PROJECT_SERVICE` environment variable is used. **Changing this value recreates the resource.**
     * 
     */
    public Output<String> serviceName() {
        return this.serviceName;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public KubeOidc(java.lang.String name) {
        this(name, KubeOidcArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public KubeOidc(java.lang.String name, KubeOidcArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public KubeOidc(java.lang.String name, KubeOidcArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("ovh:CloudProject/kubeOidc:KubeOidc", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private KubeOidc(java.lang.String name, Output<java.lang.String> id, @Nullable KubeOidcState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("ovh:CloudProject/kubeOidc:KubeOidc", name, state, makeResourceOptions(options, id), false);
    }

    private static KubeOidcArgs makeArgs(KubeOidcArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? KubeOidcArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static KubeOidc get(java.lang.String name, Output<java.lang.String> id, @Nullable KubeOidcState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new KubeOidc(name, id, state, options);
    }
}
